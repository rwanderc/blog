<!doctype html><html lang=en-us><head><meta charset=utf-8><title>5 popular decorators from Java</title><meta name=description content="Thoughts and pieces of code, sometimes none of them."><meta property="og:url" content="https://wandercosta.com/popular-decorators-java/"><meta property="og:type" content="article"><meta property="og:title" content="5 popular decorators from Java | WanderCosta"><meta property="og:description" content="5 popular decorators from Java you probably didn't even know they were decorators"><meta property="og:image" content="https://wandercosta.com/img/wander-thumb.png"><meta name=twitter:title content="5 popular decorators from Java | WanderCosta"><meta name=twitter:description content="5 popular decorators from Java you probably didn't even know they were decorators"><meta name=twitter:card content="summary"><meta name=twitter:site content="@rwanderc"><meta name=twitter:creator content="@rwanderc"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-70100612-2"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-70100612-2")</script><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=alternate type=application/rss+xml href=https://wandercosta.com/index.xml title=WanderCosta><link rel=stylesheet href=https://wandercosta.com/fontawesome/css/all.min.css><link id=dark-mode-theme rel=stylesheet href=https://wandercosta.com/css/dark.css><script>var darkTheme=document.getElementById("dark-mode-theme"),storedTheme=localStorage.getItem("dark-mode-storage");storedTheme==="dark"?darkTheme.disabled=!1:storedTheme==="light"&&(darkTheme.disabled=!0)</script><script src=https://wandercosta.com/js/main.bundle.js></script>
<script src=https://wandercosta.com/js/instantpage.min.js type=module defer></script><meta name=generator content="Hugo 0.97.3"></head><body><header><nav class=navbar><div class=nav><a href=https://wandercosta.com/ class=nav-logo><img src=https://wandercosta.com//img/logo-64.jpg width=50 height=50 alt=Logo></a><ul class=nav-links><li><a href=/about/ id=About><em class="fas fa-user fa-lg"></em></a></li><li><a href=/tags id=Tags><em class="fas fa-tag fa-lg"></em></a></li></ul></div></nav><div class=intro-header><div class=container><div class=posts-heading><h1>5 popular decorators from Java</h1><h2>5 popular decorators from Java you probably didn't even know they were decorators</h2></div></div></div></header><div class=container role=main><article class=article class=blog-post><img src=/img/post-bg-coffee-table.jpg title=jcomp>
<center><small><sup>Image by <a href=https://www.freepik.com/free-photos-vectors/background>jcomp</a></sup></small></center><p>As a software developer, you probably know the <a href=https://en.wikipedia.org/wiki/Decorator_pattern>Decorator Design Pattern</a>, described in GoF. If not, <a href=/the-decorator-design-pattern-in-software-development/>read this first</a>.</p><p>Java has some nice decorators that can make your life easier, or tougher, depending on the case. Below, you will see a list of five decorators present in Java that you didn&rsquo;t even realize they were decorations.</p><h2 id=javautilcollectionssynchronizedlistlistt-list>java.util.Collections.synchronizedList(List list)</h2><p>Java 8 provides many <strong>synchronizedX()</strong> methods, for lists, sets, maps, etc. They are analog.</p><p>The synchronizedList() will turn the access to the list <strong>mutually exclusive</strong>. That is, two threads will not have simultaneous access to any method of the object as a lock is held by the first thread. If <strong>thread1</strong> enters the <strong>get()</strong> method, <strong>thread2</strong> will be blocked to enter the method <strong>size()</strong> until <strong>thread1</strong> releases the lock.</p><p>For the concurrency concern, though, there is a better solution. For Maps, for example, <strong>ConcurrentHashMap</strong> is more performant. As described for lists, the analog method <strong>synchronizedMap()</strong> will turn all methods <strong>mutually exclusive</strong>, even the methods that only read data. In other hands, <strong>ConcurrentHashMap</strong> avoids blocking the object for reads and provides a more fine-grained lock for writes. This makes <strong>ConcurrentHashMap</strong> more performant then <strong>synchronizedMap()</strong> and should be preferred.</p><h2 id=javautilcollectionsunmodifiablelistlistt-list>java.util.Collections.unmodifiableList(List list)</h2><p>As well as for synchronizedList() method, Java 8 provides analog <strong>unmodifiableX()</strong> methods for lists, sets, maps, etc.</p><p>The decoration here is that the list cannot be changed. Therefore, the methods that would change the list throw an <strong>UnsupportedOperationException</strong>.</p><p>There are some discussions if that would be the best design to provide immutable collections, but this post does not cover this discussion.</p><h2 id=javautilcollectionscheckedlistlistt-list-classt-type>java.util.Collections.checkedList(List list, Class type)</h2><p>This was introduced in Java 5, as well as <a href=https://docs.oracle.com/javase/tutorial/java/generics/types.html>Generics</a>. This method decorates the list returning a dynamic typesafe view of the list. That is, in each insertion, it will throw a <strong>ClassCastException</strong> if the type of the item added does not match the type provided for the decorator.</p><p>Stepping back a little, a better code, not runtime-dependent, could be achieved with the use of Generics. That&rsquo;s right!</p><p>But this decorator can be a second option if eventually there are legacy code involved, in which changing the construction of the object is not an option.</p><h2 id=javaiobufferedreader>java.io.BufferedReader</h2><p>Yeah, every Java developer had once to use input or output streams to read or write data from/to streams, files, etc. This is one of the many decorators in the io package. As per the javadocs, BufferedReader:</p><blockquote><p>Reads text from a character-input stream, buffering characters so as to provide for the efficient reading of characters, arrays, and lines.</p></blockquote><p>The BufferedReader provides the Reader functionality and adds on the top of that the methods to retrieve complete lines instead of single characters. Thus, it simplifies a lot the work to read text files.</p><p>Java 8 introduced the concept of Streams in the language, and also the method <strong>lines()</strong> in the BufferedReader. This is easy to use and fully compatible with streams.</p><script type=application/javascript src=https://gist.github.com/rwanderc/022176bf021a4118bd2efdc7b788c714.js></script><h2 id=javautilzipgzipinputstream>java.util.zip.GZIPInputStream</h2><p>The GZIPInputStream is one of the many decorators of InputStream, that adds the functionality of reading compressed data in GZIP file format.</p><script type=application/javascript src=https://gist.github.com/rwanderc/8cc4e5aa275573d2520a12ed9511cc35.js></script><hr><p>For more tutorials from Java collections and their decorators, please visit <a href=https://docs.oracle.com/javase/tutorial/collections/implementations/wrapper.html>Wrapper Implementations</a>.</p><div class=blog-tags>Tags:
<a href=https://wandercosta.com/tags/java/>java</a>&nbsp;
<a href=https://wandercosta.com/tags/design-patterns/>design patterns</a>&nbsp;
<a href=https://wandercosta.com/tags/software-development/>software development</a>&nbsp;</div></article><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="wandercosta",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the
<a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><footer><div class=social-icons><a href=/index.xml name=feed><em class="fa fa-rss-square"></em></a>
&nbsp;&ndash;&nbsp;
<a href=mailto:contact@wandercosta.com name=email><em class="fas fa-envelope"></em></a>
&nbsp;&ndash;&nbsp;
<a href=https://twitter.com/rwanderc name=twitter><em class="fab fa-twitter"></em></a>
&nbsp;&ndash;&nbsp;
<a href=https://github.com/rwanderc name=github><em class="fab fa-github"></em></a>
&nbsp;&ndash;&nbsp;
<a href=https://www.linkedin.com/in/rwanderc/ name=linkedin><em class="fab fa-linkedin"></em></a></div><div class=container><p class="credits copyright"><a href=https://wandercosta.com/about>Wander Costa</a>
&nbsp;&copy;
2019
&nbsp;/&nbsp;
<a href=https://wandercosta.com/>WanderCosta</a>
&nbsp;&ndash;&nbsp;
<em class="fas fa-moon" id=dark-mode-toggle></em></p><p class="credits theme-by">Powered By <a href=https://gohugo.io>Hugo</a>&nbsp;
Theme
<a href=https://github.com/matsuyoshi30/harbor>Harbor</a></p></div></footer></body></html>