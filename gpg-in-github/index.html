<!doctype html><html lang=en-us><head><meta charset=utf-8><title>Verified commits in GitHub</title>
<meta name=description content="How to generate a GPG key, and have verified commits in GitHub"><script async src="https://www.googletagmanager.com/gtag/js?id=G-00ERBL6RH1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-00ERBL6RH1")</script><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=alternate type=application/rss+xml href=https://wandercosta.com/index.xml title=WanderCosta><meta name=twitter:card content="summary"><meta name=twitter:title content="Verified commits in GitHub"><meta name=twitter:description content="How to generate a GPG key, and have verified commits in GitHub"><link rel=stylesheet href=https://wandercosta.com/fontawesome/css/all.min.css><link crossorigin=anonymous href=/css/styles.min.css integrity rel="preload stylesheet" as=style><link id=dark-mode-theme crossorigin=anonymous href=/css/dark.min.css integrity rel="preload stylesheet" as=style><script>var darkTheme=document.getElementById("dark-mode-theme"),storedTheme=localStorage.getItem("dark-mode-storage");storedTheme==="dark"?darkTheme.disabled=!1:storedTheme==="light"&&(darkTheme.disabled=!0)</script><script defer crossorigin=anonymous src=/js/theme.js integrity></script><script defer crossorigin=anonymous src=/js/instantpage.min.js integrity></script><meta name=generator content="Hugo 0.136.3"></head><body><header><nav class=navbar><div class=nav><a href=https://wandercosta.com/ class=nav-logo><img src=https://wandercosta.com/images/logo-64.jpg width=50 height=50 alt=Logo></a><ul class=nav-links><li><a href=/about/ id=About><em class="fas fa-user fa-lg"></em></a></li><li><a href=/tags id=Tags><em class="fas fa-tag fa-lg"></em></a></li></ul></div></nav><div class=intro-header><div class=container><div class=posts-heading><h1>Verified commits in GitHub</h1></div></div></div></header><div class=container role=main><article class=article class=blog-post><img src><blockquote><p>GPG stands for GNU Privacy Guard, an implementation of public key cryptography, which can be used both for the more
standard operations of encryption keys (encrypt/decrypt), and for message verification via signature. <a href=gpg-doc>Doc</a></p></blockquote><p>For you to have signed commits in GitHub, you need to:</p><ul><li>Create a GPG key</li><li>Configure GitHub with its public key</li><li>Configure your git to sign commits</li></ul><h1 id=creating-a-gpg-key>Creating a GPG key</h1><ol><li>Install the tool in your OS.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>brew install gpg   // MacOS
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>apt install gnupg2 // Linux <span style=color:#f92672>(</span>Debian-based<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>If you just installed the tool, you should have no keys yet. You can check by running:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>gpg --list-secret-keys
</span></span></code></pre></div><ol start=2><li>Create the key. You can choose between a default mode and a personalized mode.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>gpg --generate-key      // Using defaults
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>gpg --full-generate-key // Personalized way
</span></span></code></pre></div><p>The default will use the recommended encryption algorithm and parameters. We will proceed the tutorial based in this
option.</p><ol start=3><li>Provide your name and email, and confirm your input pressing &lsquo;O&rsquo;.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ gpg --generate-key
</span></span><span style=display:flex><span>gpg <span style=color:#f92672>(</span>GnuPG<span style=color:#f92672>)</span> 2.4.5; Copyright <span style=color:#f92672>(</span>C<span style=color:#f92672>)</span> <span style=color:#ae81ff>2024</span> g10 Code GmbH
</span></span><span style=display:flex><span>This is free software: you are free to change and redistribute it.
</span></span><span style=display:flex><span>There is NO WARRANTY, to the extent permitted by law.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Note: Use <span style=color:#e6db74>&#34;gpg --full-generate-key&#34;</span> <span style=color:#66d9ef>for</span> a full featured key generation dialog.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>GnuPG needs to construct a user ID to identify your key.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Real name: Wander Costa
</span></span><span style=display:flex><span>Email address: contact@wandercosta.com
</span></span><span style=display:flex><span>You selected this USER-ID:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Wander Costa &lt;contact@wandercosta.com&gt;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Change <span style=color:#f92672>(</span>N<span style=color:#f92672>)</span>ame, <span style=color:#f92672>(</span>E<span style=color:#f92672>)</span>mail, or <span style=color:#f92672>(</span>O<span style=color:#f92672>)</span>kay/<span style=color:#f92672>(</span>Q<span style=color:#f92672>)</span>uit? O
</span></span></code></pre></div><ol start=4><li>You will be redirected to another CLI screen to provide a passphrase for the new key. Provide a secure passphrase,
repeat, and then press the OK button (using tabs, arrow keys, and enter).</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>┌─────────────────────────────────────────────────────────────┐
</span></span><span style=display:flex><span>│ Please enter the passphrase to                              │
</span></span><span style=display:flex><span>│ protect your new key                                        │
</span></span><span style=display:flex><span>│                                                             │
</span></span><span style=display:flex><span>│ Passphrases match.                                          │
</span></span><span style=display:flex><span>│                                                             │
</span></span><span style=display:flex><span>│ Passphrase: _______________________________________________ │
</span></span><span style=display:flex><span>│                                                             │
</span></span><span style=display:flex><span>│ Repeat: ___________________________________________________ │
</span></span><span style=display:flex><span>│ ┌─────────────────────────────────────────────────────────┐ │
</span></span><span style=display:flex><span>│ │                                                         │ │
</span></span><span style=display:flex><span>│ └─────────────────────────────────────────────────────────┘ │
</span></span><span style=display:flex><span>│        &lt;OK&gt;                                   &lt;Cancel&gt;      │
</span></span><span style=display:flex><span>└─────────────────────────────────────────────────────────────┘
</span></span></code></pre></div><ol start=5><li>After confirming, you will be returned to the CLI screen, which will look like:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ gpg --generate-key
</span></span><span style=display:flex><span>gpg <span style=color:#f92672>(</span>GnuPG<span style=color:#f92672>)</span> 2.4.5; Copyright <span style=color:#f92672>(</span>C<span style=color:#f92672>)</span> <span style=color:#ae81ff>2024</span> g10 Code GmbH
</span></span><span style=display:flex><span>This is free software: you are free to change and redistribute it.
</span></span><span style=display:flex><span>There is NO WARRANTY, to the extent permitted by law.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Note: Use <span style=color:#e6db74>&#34;gpg --full-generate-key&#34;</span> <span style=color:#66d9ef>for</span> a full featured key generation dialog.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>GnuPG needs to construct a user ID to identify your key.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Real name: Wander Costa
</span></span><span style=display:flex><span>Email address: contact@wandercosta.com
</span></span><span style=display:flex><span>You selected this USER-ID:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Wander Costa &lt;contact@wandercosta.com&gt;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Change <span style=color:#f92672>(</span>N<span style=color:#f92672>)</span>ame, <span style=color:#f92672>(</span>E<span style=color:#f92672>)</span>mail, or <span style=color:#f92672>(</span>O<span style=color:#f92672>)</span>kay/<span style=color:#f92672>(</span>Q<span style=color:#f92672>)</span>uit? O
</span></span><span style=display:flex><span>We need to generate a lot of random bytes. It is a good idea to perform
</span></span><span style=display:flex><span>some other action <span style=color:#f92672>(</span>type on the keyboard, move the mouse, utilize the
</span></span><span style=display:flex><span>disks<span style=color:#f92672>)</span> during the prime generation; this gives the random number
</span></span><span style=display:flex><span>generator a better chance to gain enough entropy.
</span></span><span style=display:flex><span>We need to generate a lot of random bytes. It is a good idea to perform
</span></span><span style=display:flex><span>some other action <span style=color:#f92672>(</span>type on the keyboard, move the mouse, utilize the
</span></span><span style=display:flex><span>disks<span style=color:#f92672>)</span> during the prime generation; this gives the random number
</span></span><span style=display:flex><span>generator a better chance to gain enough entropy.
</span></span><span style=display:flex><span>gpg: revocation certificate stored as <span style=color:#e6db74>&#39;/Users/rwander/.gnupg/openpgp-revocs.d/89583357ECC4C864C63BAD52A9D6AAE843B36D1E.rev&#39;</span>
</span></span><span style=display:flex><span>public and secret key created and signed.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>pub   ed25519 2024-10-20 <span style=color:#f92672>[</span>SC<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>expires: 2027-10-20<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>      89583357ECC4C864C63BAD52A9D6AAE843B36D1E
</span></span><span style=display:flex><span>uid                      Wander Costa &lt;contact@wandercosta.com&gt;
</span></span><span style=display:flex><span>sub   cv25519 2024-10-20 <span style=color:#f92672>[</span>E<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>expires: 2027-10-20<span style=color:#f92672>]</span>
</span></span></code></pre></div><p>Note that this key will expire in 3 years. If you want to configure it differently, even defining not expiration, use
the personalized way running <code>gpg --full-generate-key</code>.</p><h1 id=export-the-public-key-and-configure-github>Export the Public Key and configure GitHub</h1><ol><li>Extract the public key from the GPG key by running the command below. Change the ID to refer to your GPG&rsquo;s key ID.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ gpg --armor --export 89583357ECC4C864C63BAD52A9D6AAE843B36D1E
</span></span><span style=display:flex><span>-----BEGIN PGP PUBLIC KEY BLOCK-----
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mDMEZxUqexYJKwYBBAHaRw8BAQdAkMSiRO/W7H/BpPUsm1sFqxloAiarsjCBslad
</span></span><span style=display:flex><span>5Q6Cjqi0JldhbmRlciBDb3N0YSA8cndhbmRlckB3YW5kZXJjb3N0YS5jb20+iJkE
</span></span><span style=display:flex><span>ExYKAEEWIQSJWDNX7MTIZMY7rVKp1qroQ7NtHgUCZxUqewIbAwUJBaOagAULCQgH
</span></span><span style=display:flex><span>AgIiAgYVCgkICwIEFgIDAQIeBwIXgAAKCRCp1qroQ7NtHkCmAQCSanNi18J0CIet
</span></span><span style=display:flex><span>CjA0XCnHKeuXZtTfwVFeOTueFZz5BQEAq2xL4mkKxTwk0sWpr3WenowqEMQIa8Ic
</span></span><span style=display:flex><span>v7ewAOIVtQ64OARnFSp7EgorBgEEAZdVAQUBAQdA+cFbvXQLSOz0dV05bzk46sqK
</span></span><span style=display:flex><span>4IvtukWyI9IZljkXTGgDAQgHiH4EGBYKACYWIQSJWDNX7MTIZMY7rVKp1qroQ7Nt
</span></span><span style=display:flex><span>HgUCZxUqewIbDAUJBaOagAAKCRCp1qroQ7NtHuCzAP9ZxQVEYlWwMbr6nnUmIsIi
</span></span><span style=display:flex><span>LLgNh8kL692uGUr8pxdNjAEA/Hx85wliFYsKR+3VZ86zN5q+6d2TeAwUqXdfaYIt
</span></span><span style=display:flex><span>Ygk<span style=color:#f92672>=</span>
</span></span><span style=display:flex><span><span style=color:#f92672>=</span>gMjt
</span></span><span style=display:flex><span>-----END PGP PUBLIC KEY BLOCK-----
</span></span></code></pre></div><ol start=2><li>Access your <a href=gh-settings>Settings</a> page at GitHub and click on <strong>SSH and GPG keys</strong>.</li><li>Click the button <strong>New GPG key</strong>.</li><li>Choose a name for your key, and paste the content from the public key, obtained in step [1].</li></ol><p><img src=/img/github-gpg-key-creation.png alt=img/github-gpg-key-creation.png></p><h1 id=configure-git-to-sign-commits>Configure git to sign commits</h1><p>To configure it to any repository, run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git config --global commit.gpgsign true
</span></span></code></pre></div><p>To configure it for a specific repository, run it under the repo&rsquo;s folder:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git config commit.gpgsign true
</span></span></code></pre></div><p><a href=gh-sign-doc>Reference documentation</a>.</p><h1 id=results>Results</h1><p><img src=/img/github-verified-commit.png alt=img/github-verified-commit.png></p><div class=blog-tags><a href=https://wandercosta.com/tags/cryptography/>cryptography</a>&nbsp;
<a href=https://wandercosta.com/tags/github/>github</a>&nbsp;
<a href=https://wandercosta.com/tags/gpg/>gpg</a>&nbsp;
<a href=https://wandercosta.com/tags/verified-commits/>verified commits</a>&nbsp;
<a href=https://wandercosta.com/tags/verified/>verified</a>&nbsp;
<a href=https://wandercosta.com/tags/public-key/>public key</a>&nbsp;</div></article><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="wandercosta",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the
<a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><footer><div class=social-icons><a href=/index.xml name=feed><em class="fa fa-rss-square"></em>
</a>&nbsp;&ndash;&nbsp;
<a href=mailto:contact@wandercosta.com name=email><em class="fas fa-envelope"></em>
</a>&nbsp;&ndash;&nbsp;
<a href=https://twitter.com/rwanderc name=twitter><em class="fab fa-twitter"></em>
</a>&nbsp;&ndash;&nbsp;
<a href=https://github.com/rwanderc name=github><em class="fab fa-github"></em>
</a>&nbsp;&ndash;&nbsp;
<a href=https://www.linkedin.com/in/rwanderc name=linkedin><em class="fab fa-linkedin"></em></a></div><div class=container><p class="credits copyright"><a href=https://wandercosta.com/about></a>&nbsp;&copy;
2030
&nbsp;/&nbsp;
<a href=https://wandercosta.com/>WanderCosta</a>
&nbsp;&ndash;&nbsp;
<em class="fas fa-moon" id=dark-mode-toggle></em></p><p class="credits theme-by">Powered By <a href=https://gohugo.io>Hugo</a>&nbsp;
Theme
<a href=https://github.com/matsuyoshi30/harbor>Harbor</a></p></div></footer></body></html>